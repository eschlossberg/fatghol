%%
%% Debugging code
%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{debug}
[2001/10/01 Miscellaneous debugging utilities]
%%
%% Preliminary declarations
%%
\newcommand\dbg@ifdraft[2]{#1}% do the 'if' part of a if-else clause
%%
%% Options
%%
\DeclareOption{final}{% disables all debugging statements
  \let\dbg@ifdraft=\@secondoftwo% do the 'else' part
}
\ProcessOptions\relax
%%
%% Actual code
%%
\dbg@ifdraft{%
  \RequirePackage{prelim2e}%
  \RequirePackage[nomsgs]{refcheck}%
  \newcommand{\FIXME}[1]{\marginpar{\tiny\sffamily #1}}
%\providecommand{\inputhook}[1]{%
%  \par\noindent%
%  {\color{debug}\dotfill{\sffamily From file: \bfseries #1.tex}\dotfill}%
%  %\everypar={\marginpar[\sffamily #1.tex:\the\inputlineno]{}}%
%}
%\let\debug@saved@input=\@iinput
%\def\@iinput#1{%
%  \inputhook{#1}%
%  \debug@saved@input{#1}%
%}
  }{%
  \let\FIXME=\@gobble% ignore \FIXME's
  }
\endinput
%%
%% end of debug.sty
%%

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../index"
%%% x-symbol-8bits: nil
%%% End: 
